<% if @post.present? %>
  <div class="option__like" id="like-link-<%= @post.id %>">
    <% if logged_in? %>
      <% if current_user.like_posts.find_by(post_id: post.id) %>
        <%= link_to unlike_user_roadmap_step_post_path(@user, @roadmap, @step, @post.id, @post.id), method: :delete, remote: true, class: "option__like-on bg-info text-light" do %>
          <i class="fas fa-star"></i>
          <div class="option__like-on__text">いいね！</div>
          <div class="option__like-on__count">
            <%= post.like_posts.count %>
          </div>
        <% end %>
      <% else %>
        <%= link_to like_user_roadmap_step_post_path(@user, @roadmap, @step, @post.id, @post.id), method: :post, remote: true, class: "option__like-on bg-info text-light" do %>
          <i class="fas fa-star"></i>
          <div class="option__like-off__text">いいね！</div>
          <div class="option__like-off__count">
            <%= post.like_posts.count %>
          </div>
          <% end %>
      <% end %>
    <% else %>
      <div class="option__like-on bg-info text-light">
        <i class="fas fa-star"></i>
        <div class="option__like-off__text">いいね！</div>
        <div class="option__like-off__count">
          <%= post.like_posts.count %>
        </div>
      </div>
    <% end %>   
  </div>
<% end %>   